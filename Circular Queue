#include<iostrem.h>
#include<conio.h>
#include<stdio.h>
class queue
{
    int q[10],f,r,n;
    public:
    queue()
    {
        f=-1;
        r=-1;
        n=10;
    }
    void insert(int data)
    {
        if((f==0 && r==n-1) || (f-r==1))
        {
            cout<<"\n\t CQueue is overflow";
            return;
        }
        if(r==n-1)
            r=0;
        else
            r++;
        q[r]=data;
        if(f==-1)
            f=0;
    }
    int del()
    {
        int data;
        if(f==-1)
        {
            cout<<"\n\t CQueue is underflow";
            return 0;
        }
        data=q[f];
        if(f==r) // CQ is empty?
        {
            f=-1;
            r=-1;
        }
        else if(f==n-1)
            f=0;
        else
            f++;
        return data;
    }
    void display()
    {
        int i;
        if(f==-1)
            cout<<"\n\t CQueue is Empty";
        else
        {
            cout<<"\n the CQueue is\n";
            if(f>r)
            {
                for(i=f;i<=n-1;i++)
                    cout<<q[i]<<"\t";
                for(i=0;i<=r;i++)
                    cout<<q[i]<<"\t";
            }
            else
            {
                for(i=f;i<=r;i++)
                   cout<<q[i]<<"\t";
            }
        }
    }
};
void main()
{
    int e,ch;
    queue q;
    do
    {
        clrscr();
        cout<<"\n\t\t circular queue implementation";
        cout<<"\n\t1:Insert";
        cout<<"\n\t2:Delete";
        cout<<"\n\t3:Display";
        cout<<"\n\t4:Exit";
        cout<<"\n\tEnter your choice :";
        cin>>ch;
        switch(ch)
        {
            case 1:
                cout<<"\n\tEnter the element:";
                cin>>e;
                q.insert(e);
                break;
            case 2:
                e=q.del();
                if(e!=0)
                    cout<<"\n\tThe deleted element is "<<e;
                break;
            case 3:
                q.display();
                break;
            case 4:
                cout<<"\n Bye Bye";
                break;
            default:
                cout<<"Wrong choice";
        }
        getch();
    }while(ch!=4);
}
