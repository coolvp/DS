#include<iostream.h>
#include<stdio.h>
#include<stdlib.h>
#include<conio.h>
class stack
{
    int n,top;
    int s[20];
    public:
    stack()
    {
        n=5;
        top=-1;
    }
    stack(int no)
    {
        n=no;
        top=-1;
    }
    void push (int data)
    {
        if(top==n-1)
        {
            cout<<endl<<" stack overflow";
            return;
        }
        top++;
        s[top]=data;
    }
    int pop()
    {
        int data;
        if(top==-1)
        {
            cout<<endl<<"stack underflow";
            return 0;
        }
        data=s[top];
        top--;
        return data;
    }
    int peep()
    {
        int i,data;
        cout<<endl<<"which element u want :";
        cin>>i;
        if((top-i+1)<0)
        {
            cout<<endl<<"stack underflow on peep";
            return 0;
        }
        data=s[top-i+1];
        return data;
    }
    void change(int data)
    {
        int i;
        cout<<endl<<"which element u want to change:";
        cin>>i;
        if((top-i+1)<0)
        {
            cout<<endl<<"stack underflow on change";
        }
        s[top-i+1]=data;
    }
    void display()
    {
        if(top==-1)
        cout<<"\n stack is empty";
        else
        {
            cout<<"\n the contents of stack is\n";
            for(int i=top;i>=0;i--)
            {    
                cout<<"\n\t"<<s[i];
            }
        }

    }
};
void main()
{
    int e,ch;
    stack s;
    do
    {
        clrscr();
        cout<<"\n\t\t -: STACK IMPLEMENTION :-";
        cout<<"\n\t 1. push";
        cout<<"\n\t 2. pop";
        cout<<"\n\t 3. display";
        cout<<"\n\t 4. peep";
        cout<<"\n\t 5. change";
        cout<<"\n\t 6. exit";
        cout<<"\n\t enter choice:";
        cin>>ch;
        switch (ch)
        {
            case 1:
                cout<<"\n enter element:";
                flushall();
                cin>>e;
                s.push(e);
                break;
            case 2:
                e=s.pop();
                if(e!=0)
                cout<<"\n the deleted element is "<<e;
                break;
            case 3:
                s.display();
                break;
            case 4:
                e=s.peep();
                if(e!=0)
                    out<<"\n the selected element is "<<e;
                break;
            case 5:
                cout<<"\n enter new element:";
                flushall();
                cin>>e;
                s.change(e);
                break;
            case 6:
                exit(0);
            default:
                cout<<"\n wrong choice";
        }
        getch();
    } while (ch!=6);
}
